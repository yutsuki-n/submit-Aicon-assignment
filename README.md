# æ‰€æŒå“ç®¡ç†API

é«˜ç´šå“ã‚„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç®¡ç†ã™ã‚‹REST APIã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚

## ğŸ“‹ APIä»•æ§˜

### ãƒ™ãƒ¼ã‚¹URL
```
http://localhost:8080
```

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ |
|---------|------|------|-----------------|
| GET | `/health` | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | 200 |
| GET | `/items` | å…¨ã‚¢ã‚¤ãƒ†ãƒ å–å¾— | 200 |
| POST | `/items` | ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ² | 201, 400 |
| GET | `/items/{id}` | ç‰¹å®šã‚¢ã‚¤ãƒ†ãƒ å–å¾— | 200, 404 |
| DELETE | `/items/{id}` | ã‚¢ã‚¤ãƒ†ãƒ å‰Šé™¤ | 204, 404 |
| GET | `/items/summary` | ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é›†è¨ˆ | 200 |

### ãƒ‡ãƒ¼ã‚¿å½¢å¼

#### ã‚¢ã‚¤ãƒ†ãƒ  (Item)
```json
{
  "id": 1,
  "name": "ãƒ­ãƒ¬ãƒƒã‚¯ã‚¹ ãƒ‡ã‚¤ãƒˆãƒŠ",
  "category": "æ™‚è¨ˆ",
  "brand": "ROLEX",
  "purchase_price": 1500000,
  "purchase_date": "2023-01-15",
  "created_at": "2023-01-15T10:00:00Z",
  "updated_at": "2023-01-15T10:00:00Z"
}
```

#### æœ‰åŠ¹ãªã‚«ãƒ†ã‚´ãƒªãƒ¼
- `æ™‚è¨ˆ`
- `ãƒãƒƒã‚°`
- `ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼`
- `é´`
- `ãã®ä»–`

### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¿…é ˆ | åˆ¶é™ |
|-----------|------|------|
| name | âœ“ | 100æ–‡å­—ä»¥å†… |
| category | âœ“ | æœ‰åŠ¹ãªã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã¿ |
| brand | âœ“ | 100æ–‡å­—ä»¥å†… |
| purchase_price | âœ“ | 0ä»¥ä¸Šã®æ•´æ•° |
| purchase_date | âœ“ | YYYY-MM-DDå½¢å¼ |

### APIä½¿ç”¨ä¾‹

#### 1. å…¨ã‚¢ã‚¤ãƒ†ãƒ å–å¾—
```bash
curl -X GET http://localhost:8080/items
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
[
  {
    "id": 1,
    "name": "ãƒ­ãƒ¬ãƒƒã‚¯ã‚¹ ãƒ‡ã‚¤ãƒˆãƒŠ",
    "category": "æ™‚è¨ˆ",
    "brand": "ROLEX",
    "purchase_price": 1500000,
    "purchase_date": "2023-01-15",
    "created_at": "2023-01-15T10:00:00Z",
    "updated_at": "2023-01-15T10:00:00Z"
  }
]
```

#### 2. ã‚¢ã‚¤ãƒ†ãƒ ç™»éŒ²
```bash
curl -X POST http://localhost:8080/items \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ã‚¨ãƒ«ãƒ¡ã‚¹ ãƒãƒ¼ã‚­ãƒ³",
    "category": "ãƒãƒƒã‚°",
    "brand": "HERMÃˆS",
    "purchase_price": 2000000,
    "purchase_date": "2023-02-20"
  }'
```

#### 3. ç‰¹å®šã‚¢ã‚¤ãƒ†ãƒ å–å¾—
```bash
curl -X GET http://localhost:8080/items/1
```

#### 4. ã‚¢ã‚¤ãƒ†ãƒ å‰Šé™¤
```bash
curl -X DELETE http://localhost:8080/items/1
```

#### 5. ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é›†è¨ˆ
```bash
curl -X GET http://localhost:8080/items/summary
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "categories": {
    "æ™‚è¨ˆ": 2,
    "ãƒãƒƒã‚°": 1,
    "ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼": 3,
    "é´": 0,
    "ãã®ä»–": 1
  },
  "total": 7
}
```

### ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

```json
{
  "error": "validation failed",
  "details": [
    "name is required",
    "purchase_price must be 0 or greater"
  ]
}
```

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **è¨€èª**: Go 1.23
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Echo v4
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: MySQL 8.0
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker & Docker Compose

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
.
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ main.go                 # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ entity/            # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ errors/            # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”œâ”€â”€ config/            # è¨­å®šç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database/          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
â”‚   â”‚   â””â”€â”€ server/            # HTTPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”œâ”€â”€ controller/        # HTTPãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â””â”€â”€ database/          # ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â””â”€â”€ usecase/              # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ sql/
â”‚   â””â”€â”€ init.sql              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

## ğŸ”§ é–‹ç™ºç’°å¢ƒ

### å‰ææ¡ä»¶
- Docker
- Docker Compose

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
```bash
# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
go mod download

# ãƒ­ãƒ¼ã‚«ãƒ«ã§MySQLã‚’èµ·å‹•ï¼ˆdocker-composeçµŒç”±ï¼‰
docker-compose up -d mysql

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼‰
export DB_HOST=localhost
export DB_PORT=3306
export DB_USER=root
export DB_PASSWORD=password
export DB_NAME=items_db

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•
go run cmd/main.go
```

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

åˆæœŸãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä»¥ä¸‹ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ï¼š

1. ãƒ­ãƒ¬ãƒƒã‚¯ã‚¹ ãƒ‡ã‚¤ãƒˆãƒŠ (æ™‚è¨ˆ)
2. ã‚¨ãƒ«ãƒ¡ã‚¹ ãƒãƒ¼ã‚­ãƒ³ (ãƒãƒƒã‚°)
3. ãƒ†ã‚£ãƒ•ã‚¡ãƒ‹ãƒ¼ ãƒãƒƒã‚¯ãƒ¬ã‚¹ (ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼)
4. ãƒ«ãƒ–ã‚¿ãƒ³ ãƒ‘ãƒ³ãƒ—ã‚¹ (é´)
5. ã‚¢ãƒƒãƒ—ãƒ«ã‚¦ã‚©ãƒƒãƒ (ãã®ä»–)
# submit-Aicon-assignment
